fetch('https://673a0d78a3a36b5a62f0945e.mockapi.io/products/api/products')
    .then(response => response.json())
    .then(products => {
        const productsList = document.getElementById('products-list');
        products.forEach(product => {
            const productElement = document.createElement('div');
            productElement.classList.add('product');

            // ุนุฑุถ ุงูุตูุฑุฉ ุงูุฃููู ููุท ููู ููุชุฌ
            const productImage = product.images.length > 0 ? product.images[0] : 'https://via.placeholder.com/150';

            // ุฅูุดุงุก ุงูุจููุณ ูุน ุงูุชูุณููุงุช
            productElement.innerHTML = `
                <img src="${productImage}" alt="${product.name}" onerror="this.src='https://via.placeholder.com/150';">
                <div class="info">
                    <h2>${product.name}</h2>
                    <p>ุญุงูุฉ ุงูููุชุฌ: ${product.condition}</p>
                    <p class="price">${product.minprice} - ${product.maxprice} ุฏููุงุฑ</p>
                    <div class="icons">
                        <span class="icon" title="ุฅุถุงูุฉ ููููุถูุฉ">๐</span>
                        <span class="icon" title="ูุดุงุฑูุฉ ุงูููุชุฌ">๐ค</span>
                        <span class="icon" title="ุชูููู ุงูููุชุฌ">โญ</span>
                    </div>
                    <button onclick="viewProductDetails(${product.id})">ุนุฑุถ ุงูุชูุงุตูู</button>
                </div>
            `;
            productsList.appendChild(productElement);
        });
    })
    .catch(error => console.error('ุฎุทุฃ ูู ุฌูุจ ุงูุจูุงูุงุช:', error));

function viewProductDetails(productId) {
    // ุชุฎุฒูู ID ุงูููุชุฌ ูู localStorage
    localStorage.setItem('selectedProductId', productId);
    // ุงูุงูุชูุงู ุฅูู ุตูุญุฉ ุชูุงุตูู ุงูููุชุฌ
    window.location.href = 'product.html';
}
